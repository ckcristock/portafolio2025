<div class="container mt-4">
  <h1 class="text-center mb-4">Panel Profesional de Fútbol</h1>

  <div class="row mb-4">
    <div class="col-12">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Equipos</h2>
        <button
          class="btn btn-primary btn-sm"
          (click)="openMatchRegisterModal()"
        >
          Registrar Partido
        </button>
      </div>

      <app-table
        [tableTitle]="''"
        [data]="teamsStandingsData"
        [columns]="teamsStandingsColumns"
        [showUploadButton]="false"
        [showFilterSection]="true"
        [filterSectionTitle]="'Estadísticas y Filtros de Equipos'"
      >
        <div class="row">
          <div class="col-md-4">
            <div class="alert alert-info">
              Total Equipos: {{ teamsStandingsData.length }}
            </div>
          </div>
          <div class="col-md-4">
            <div class="alert alert-success">
              Promedio Puntos: {{ calculateAveragePoints() | number : "1.0-2" }}
            </div>
          </div>
          <div class="col-md-4">
            <div class="alert alert-warning">Mejor GD: {{ getBestGD() }}</div>
          </div>
          <div class="col-md-12 mt-3">
            <label for="teamNameFilter" class="form-label"
              >Filtrar por Nombre de Equipo:</label
            >
            <input
              type="text"
              id="teamNameFilter"
              class="form-control"
              [(ngModel)]="teamNameFilter"
              (input)="applyTeamFilter()"
            />
          </div>
        </div>
      </app-table>
    </div>
  </div>

  <div class="row">
    <div class="col-12 col-md-6 mb-4">
      <app-table
        [tableTitle]="'Goleadores'"
        [data]="topScorersData"
        [columns]="topScorersColumns"
        [showUploadButton]="false"
        [showFilterSection]="true"
        [filterSectionTitle]="'Filtros de Goleadores'"
      >
        <div class="row">
          <div class="col-md-6">
            <label for="minGoalsFilter" class="form-label"
              >Goles Mínimos:</label
            >
            <input
              type="number"
              id="minGoalsFilter"
              class="form-control"
              [(ngModel)]="minGoalsFilter"
              (input)="applyTopScorersFilter()"
            />
          </div>
          <div class="col-md-6">
            <label for="playerTeamFilter" class="form-label"
              >Filtrar por Equipo:</label
            >
            <input
              type="text"
              id="playerTeamFilter"
              class="form-control"
              [(ngModel)]="playerTeamFilter"
              (input)="applyTopScorersFilter()"
            />
          </div>
          <div class="col-md-6 mt-3">
            <label for="minAgeFilter" class="form-label">Edad Mínima:</label>
            <input
              type="number"
              id="minAgeFilter"
              class="form-control"
              [(ngModel)]="minAgeFilter"
              (input)="applyTopScorersFilter()"
            />
          </div>
          <div class="col-md-6 mt-3">
            <label for="maxAgeFilter" class="form-label">Edad Máxima:</label>
            <input
              type="number"
              id="maxAgeFilter"
              class="form-control"
              [(ngModel)]="maxAgeFilter"
              (input)="applyTopScorersFilter()"
            />
          </div>
        </div>
      </app-table>
    </div>

    <div class="col-12 col-md-6 mb-4">
      <app-table
        [tableTitle]="'Valla Menos Vencida'"
        [data]="cleanSheetsData"
        [columns]="cleanSheetsColumns"
        [showUploadButton]="false"
        [showFilterSection]="true"
        [filterSectionTitle]="'Filtros de Vallas Menos Vencidas'"
      >
        <div class="row">
          <div class="col-md-6">
            <label for="minCleanSheetsFilter" class="form-label"
              >Vallas Inv. Mínimas:</label
            >
            <input
              type="number"
              id="minCleanSheetsFilter"
              class="form-control"
              [(ngModel)]="minCleanSheetsFilter"
              (input)="applyCleanSheetsFilter()"
            />
          </div>
          <div class="col-md-6">
            <label for="goalkeeperTeamFilter" class="form-label"
              >Filtrar por Equipo:</label
            >
            <input
              type="text"
              id="goalkeeperTeamFilter"
              class="form-control"
              [(ngModel)]="goalkeeperTeamFilter"
              (input)="applyCleanSheetsFilter()"
            />
          </div>
        </div>
      </app-table>
    </div>
  </div>
</div>
